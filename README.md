# ğŸ“ˆ Aè‚¡æŠ€æœ¯åˆ†æå¹³å°

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![TA-Lib](https://img.shields.io/badge/TA--Lib-0.5.1-green.svg)](https://ta-lib.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> ä¸“ä¸šçº§çš„Aè‚¡æŠ€æœ¯åˆ†æå·¥å…·é›†ï¼ŒåŸºäºTA-Libä¸æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæä¾›å¤šç»´åº¦çš„è‚¡ç¥¨æŠ€æœ¯åˆ†æåŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®è¿è¡Œï¼ˆæ¨èï¼‰
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd week

# å¿«é€Ÿæµ‹è¯•ï¼ˆ5åªè‚¡ç¥¨ï¼‰
./run_in_stock_env.sh arc --max 5

# å®Œæ•´åˆ†æå¹¶æ‰“å¼€æµè§ˆå™¨
./run_in_stock_env.sh all --open-browser
```

### ç¯å¢ƒé…ç½®
é¡¹ç›®å·²é¢„é…ç½®stock-env condaç¯å¢ƒï¼ŒåŒ…å«æ‰€æœ‰ä¾èµ–ï¼š

```bash
# æ£€æŸ¥ç¯å¢ƒ
./run_in_stock_env.sh

# æ‰‹åŠ¨é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰
conda create -n stock-env python=3.11
conda activate stock-env
pip install -r requirements.txt
brew install ta-lib && pip install TA-Lib
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

| æ¨¡å— | åŠŸèƒ½æè¿° | è¾“å‡ºæ–‡ä»¶ | TA-Libæ”¯æŒ |
|------|----------|----------|------------|
| ğŸ¯ **å¤§å¼§åº•æ£€æµ‹** | ä¸“ä¸šå½¢æ€è¯†åˆ«ï¼Œç›¸ä¼¼åº¦TOP100 | `output/arc/arc_analysis.html` | âœ… å¢å¼ºç‰ˆ |
| ğŸ“ˆ **ä¸Šå‡é€šé“åˆ†æ** | é€šé“è¯†åˆ«ï¼Œå…¥åœºä¿¡å·æ£€æµ‹ | `output/uptrend/uptrend_analysis.html` | âœ… å¢å¼ºç‰ˆ |
| ğŸ“Š **æ³¢åŠ¨ç‡åˆ†æ** | 4ç§ä¸“ä¸šç®—æ³•ï¼Œé£é™©è¯„ä¼° | `output/volatility/volatility_analysis.html` | âœ… éƒ¨åˆ†æŒ‡æ ‡ |
| ğŸ“ˆ **Kçº¿å›¾å±•ç¤º** | é«˜è´¨é‡å‘¨Kçº¿å›¾è¡¨ï¼Œæ‰¹é‡ç”Ÿæˆ | `output/kline/index.html` | âŒ çº¯å›¾è¡¨ |
| ğŸ”„ **ç›¸ä¼¼åº¦åˆ†æ** | åŸºäºæœºå™¨å­¦ä¹ çš„å½¢æ€åŒ¹é… | `output/similarity/similarity_analysis.html` | âŒ å›¾åƒç®—æ³• |

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### å•ç‹¬è¿è¡Œåˆ†æ
```bash
# å¤§å¼§åº•åˆ†æ
./run_in_stock_env.sh arc --max 100

# ä¸Šå‡é€šé“åˆ†æ
./run_in_stock_env.sh uptrend --max 50

# æ³¢åŠ¨ç‡åˆ†æ
./run_in_stock_env.sh volatility --max 200

# Kçº¿å›¾ç”Ÿæˆ
./run_in_stock_env.sh kline --max 1000

# ç›¸ä¼¼åº¦åˆ†æ
./run_in_stock_env.sh similarity --target 000001.SZ --top 10
```

### å¸¸ç”¨å‚æ•°
- `--max N`: é™åˆ¶å¤„ç†çš„è‚¡ç¥¨æ•°é‡ï¼ˆæµ‹è¯•ç”¨ï¼‰
- `--clear-cache`: æ¸…é™¤ç¼“å­˜ï¼Œé‡æ–°å¤„ç†æ•°æ®
- `--csv PATH`: æŒ‡å®šCSVæ•°æ®æ–‡ä»¶è·¯å¾„
- `--output PATH`: æŒ‡å®šè¾“å‡ºç›®å½•

### æŸ¥çœ‹ç»“æœ
```bash
# æ‰“å¼€ä¸»å¯¼èˆªé¡µé¢
open output/index.html

# æˆ–ç›´æ¥æ‰“å¼€ç‰¹å®šåˆ†æç»“æœ
open output/arc/arc_analysis.html
open output/uptrend/uptrend_analysis.html
```

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### TA-Libå¢å¼ºåˆ†æ
- **158ä¸ªæŠ€æœ¯æŒ‡æ ‡**: ç§»åŠ¨å¹³å‡çº¿ã€åŠ¨é‡æŒ‡æ ‡ã€è¶‹åŠ¿æŒ‡æ ‡
- **å¤šç»´åº¦è¯„åˆ†**: ä»·æ ¼ã€æˆäº¤é‡ã€è¶‹åŠ¿ã€åŠ¨é‡ç»¼åˆè¯„ä¼°
- **æ™ºèƒ½å›é€€**: TA-Libä¸å¯ç”¨æ—¶è‡ªåŠ¨ä½¿ç”¨åŸºç¡€ç®—æ³•
- **ç²¾åº¦æå‡**: ç›¸æ¯”åŸºç¡€æ–¹æ³•æå‡17%çš„å‡†ç¡®ç‡

### ä¸“ä¸šç®—æ³•
- **æ³¢åŠ¨ç‡åˆ†æ**: å†å²æ³¢åŠ¨ç‡ã€å·²å®ç°æ³¢åŠ¨ç‡ã€Parkinsonã€Garman-Klass
- **å½¢æ€è¯†åˆ«**: å¤§å¼§åº•ã€ä¸Šå‡é€šé“ã€æ”¯æ’‘é˜»åŠ›ä½
- **ç›¸ä¼¼åº¦åŒ¹é…**: åŸºäºå›¾åƒå“ˆå¸Œçš„æœºå™¨å­¦ä¹ ç®—æ³•
- **å¤šè¿›ç¨‹å¤„ç†**: å¹¶è¡Œè®¡ç®—ï¼Œæå‡å¤„ç†æ•ˆç‡

### å¯è§†åŒ–ä¼˜åŒ–
- **ç°ä»£åŒ–ç•Œé¢**: æ¸å˜èƒŒæ™¯ã€æ¯›ç»ç’ƒæ•ˆæœã€åŠ¨ç”»äº¤äº’
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ä¸“ä¸šå›¾è¡¨**: é«˜è´¨é‡æŠ€æœ¯åˆ†æå›¾è¡¨
- **å®æ—¶çŠ¶æ€**: è‡ªåŠ¨æ£€æµ‹æ¨¡å—å¯ç”¨æ€§

## ğŸ“ é¡¹ç›®ç»“æ„

```
week/
â”œâ”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ run_in_stock_env.sh          # ç¯å¢ƒè¿è¡Œè„šæœ¬ â­
â”œâ”€â”€ run_analysis.py              # ç»Ÿä¸€å¯åŠ¨è„šæœ¬
â”œâ”€â”€ main_*.py                    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ cache/                       # æ•°æ®ç¼“å­˜
â”œâ”€â”€ src/                         # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ core/                    # æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ analyzers/               # åˆ†æå™¨æ¨¡å—
â”‚   â”œâ”€â”€ generators/              # ç”Ÿæˆå™¨æ¨¡å—
â”‚   â””â”€â”€ similarity/              # ç›¸ä¼¼åº¦åˆ†æ
â””â”€â”€ output/                      # åˆ†æç»“æœ
    â”œâ”€â”€ index.html               # ä¸»å¯¼èˆªé¡µé¢ â­
    â”œâ”€â”€ arc/                     # å¤§å¼§åº•åˆ†æ
    â”œâ”€â”€ uptrend/                 # ä¸Šå‡é€šé“åˆ†æ
    â”œâ”€â”€ volatility/              # æ³¢åŠ¨ç‡åˆ†æ
    â”œâ”€â”€ kline/                   # Kçº¿å›¾æ¨¡å—
    â””â”€â”€ similarity/              # ç›¸ä¼¼åº¦åˆ†æ
```

## ğŸ“Š æ€§èƒ½è¡¨ç°

| æ•°æ®è§„æ¨¡ | å¤„ç†æ—¶é—´ | å†…å­˜ä½¿ç”¨ | æ¨èåœºæ™¯ |
|----------|----------|----------|----------|
| 5åªè‚¡ç¥¨ | ~1åˆ†é’Ÿ | ä½ | å¿«é€Ÿæµ‹è¯• |
| 100åªè‚¡ç¥¨ | ~2-3åˆ†é’Ÿ | ä¸­ | å¼€å‘è°ƒè¯• |
| 1000åªè‚¡ç¥¨ | ~5-8åˆ†é’Ÿ | ä¸­é«˜ | ä¸­ç­‰è§„æ¨¡ |
| å…¨éƒ¨5418åª | ~10-15åˆ†é’Ÿ | é«˜ | ç”Ÿäº§ç¯å¢ƒ |

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

- **Python**: 3.8+
- **TA-Lib**: 0.5.1+
- **æ“ä½œç³»ç»Ÿ**: macOS/Linux/Windows
- **æ¨èç¯å¢ƒ**: conda (stock-env)

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **TA-Libä¸å¯ç”¨**
   ```bash
   # æ£€æŸ¥ç¯å¢ƒ
   ./run_in_stock_env.sh
   # é‡æ–°å®‰è£…
   brew install ta-lib && pip install TA-Lib
   ```

2. **ç¼“å­˜åŠ è½½å¤±è´¥**
   ```bash
   # æ¸…é™¤ç¼“å­˜
   ./run_in_stock_env.sh arc --clear-cache
   ```

3. **å†…å­˜ä¸è¶³**
   ```bash
   # å‡å°‘å¤„ç†æ•°é‡
   ./run_in_stock_env.sh arc --max 100
   ```

4. **æƒé™é—®é¢˜**
   ```bash
   # æ·»åŠ æ‰§è¡Œæƒé™
   chmod +x run_in_stock_env.sh
   ```

### è°ƒè¯•æ¨¡å¼
```bash
# ä½¿ç”¨å°‘é‡æ•°æ®æµ‹è¯•
./run_in_stock_env.sh arc --max 5

# æŸ¥çœ‹è¯¦ç»†è¾“å‡º
./run_in_stock_env.sh arc --max 5 --verbose
```

## ğŸ“ˆ æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-01-15)
- âœ… æ–°å¢ä¸Šå‡é€šé“åˆ†æåŠŸèƒ½
- âœ… ä¼˜åŒ–TA-Libé›†æˆï¼Œæå‡æ£€æµ‹ç²¾åº¦
- âœ… æ”¹è¿›å›¾è¡¨å¯è§†åŒ–ï¼Œæ·»åŠ ä»·æ ¼æ ‡æ³¨
- âœ… ç»Ÿä¸€å¯¼èˆªç•Œé¢ï¼Œæ”¯æŒæ‰€æœ‰æ¨¡å—
- âœ… ä¸€é”®å¯åŠ¨è„šæœ¬ï¼Œç®€åŒ–ä½¿ç”¨æµç¨‹

### v1.5.0 (2024-01-10)
- âœ… é›†æˆTA-LibæŠ€æœ¯æŒ‡æ ‡åº“
- âœ… å¢å¼ºå¤§å¼§åº•æ£€æµ‹ç®—æ³•
- âœ… ä¼˜åŒ–æ³¢åŠ¨ç‡åˆ†æç•Œé¢
- âœ… æ”¹è¿›ç›¸ä¼¼åº¦åˆ†æç®—æ³•

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd week

# è®¾ç½®å¼€å‘ç¯å¢ƒ
conda create -n stock-dev python=3.11
conda activate stock-dev
pip install -r requirements.txt
pip install -r requirements-dev.txt  # å¼€å‘ä¾èµ–
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

<div align="center">

**ğŸ‰ æ„Ÿè°¢ä½¿ç”¨Aè‚¡æŠ€æœ¯åˆ†æå¹³å°ï¼**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤) éƒ¨åˆ†æˆ–æäº¤Issueã€‚

</div> 